<!-- Show Items modal-->
<div class="modal fade" id="routeHabitatListModal" tabindex="-1" role="dialog"
     aria-labelledby="routePokemonListLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <!-- ko using: App.game.statistics.selectedRoute(), as: 'route' -->
            <div class="modal-header">
                <!-- TODO: Add shiny and pokerus statuses if habitat list is made -->
                <h4 class="modal-title" data-bind="text: route.name + ` (${GameConstants.camelCaseToString(GameConstants.Region[route.region])})`">
                    Route
                </h4>
            </div>

            <div class="modal-body p-0">
                <div class="row justify-content-center p-0" id="pokemon-elements" data-bind="foreach: { data: route.pokemonList, as: 'pokemon'}"
                    style="max-width: 100%; padding:0; margin:0;">
                    <div class="col-sm-4 col-md-3 col-lg-2 pokedexEntry"
                        data-bind="style: { background: PokedexHelper.getBackgroundColors(pokemon.name) }, using: PokemonHelper.getPokemonByName(pokemon.name).id, as: 'pokemonId'">

                        <span class="" style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: ('#' + (pokemonId > 0 ? Math.floor(pokemonId) + '' : '???').padStart(3, 0))">number</span>
                        <div data-bind="visible: App.game.party.alreadyCaughtPokemonByName(pokemon.name)" style="position: absolute; right: 2px; top: -15px;">
                            <img width="18px" src="" data-bind="attr: { src: `assets/images/pokeball/Pokeball${App.game.party.alreadyCaughtPokemon(pokemonId, true) ? '-shiny' : ''}.svg`}"/>
                        </div>
                        <!-- ko if: App.game.party.alreadyCaughtPokemonByName(pokemon.name) -->
                        <div data-bind="if: App.game.party.getPokemon(pokemonId)?.pokerus" style="position: absolute;left: 2px;top: -11px;">
                            <knockout data-bind="template: { name: 'pokerusStatusTemplate', data: { 'pokerus': App.game.party.getPokemon(pokemonId)?.pokerus, 'width': '32px' } }">Pokerus icon</knockout>
                        </div>
                        <!-- /ko -->
                        <img src="" width="" data-bind="css: { 
                            'pokemon-not-seen': !PokedexHelper.pokemonSeen(pokemonId)(), 
                            'pokemon-seen-but-not-caught': !App.game.party.alreadyCaughtPokemonByName(pokemon.name) && PokedexHelper.pokemonSeen(pokemonId)()
                        }, 
                        attr:{ 
                            src: PokemonHelper.getImage(pokemonId),
                            width: '96px'
                        }"
                        onerror="this.src='assets/images/trainers/Mysterious Trainer.png';">
                        <!-- ko if: pokemon.roamer -->
                        <div style="position: absolute; left: 2px; top: 65px;">
                            <div class="item-icon rounded-circle" style="max-width: 24px; max-height: 24px; padding: 2px !important;">
                                <img class="p-0" src="" width="24px" style="max-width: 100%; max-height: 100%; vertical-align: unset;" data-bind="attr: {src: 'assets/images/shortcut-icons/roaming.png'}">
                            </div>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: PokedexHelper.pokemonSeen(pokemonId) -->
                        <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; overflow: hidden; min-height: 21px;">
                            <knockout class="" data-bind="text: PokemonHelper.displayName(pokemon.name), css: { 'marquee': PokemonHelper.displayName(pokemon.name)().length > 18 }">name</knockout>
                        </span>
                        <!-- /ko -->

                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
            <!-- /ko -->
        </div>
    </div>
</div>
